SEMICOLON.Core.getVars.fn.menus=e=>{var t=SEMICOLON.Core;if((e=t.getSelector(e,!1)).length<1)return!0;CanvasMenuInit(),CanvasMenuReset(),CanvasMenuArrows(),CanvasMenuInvert(),CanvasMenuFunctions(),CanvasMenuTrigger(),CanvasMenuFullWidth(),t.getVars.resizers.menus=()=>SEMICOLON.Base.menus(),t.getVars.recalls.menureset=()=>{CanvasMenuReset(),CanvasMenuFunctions()}};const CanvasMenuInit=()=>{var e=SEMICOLON.Core;e.getVars.headerWrapHeight=e.getVars.elHeaderWrap?.offsetHeight,document.addEventListener("click",e=>{e.target.closest(".primary-menu-trigger")||e.target.closest(".primary-menu")||(CanvasMenuReset(),CanvasMenuFunctions()),e.target.closest(".top-links.on-click")||(document.querySelectorAll(".top-links.on-click").forEach(e=>e.querySelectorAll(".top-links-sub-menu,.top-links-section").forEach(e=>e.classList.remove("d-block"))),document.querySelectorAll(".top-links.on-click").forEach(e=>e.querySelectorAll(".top-links-item").forEach(e=>e.classList.remove("current"))))},!1),document.querySelectorAll(".menu-item").forEach(e=>{var t;0<e.querySelectorAll(".sub-menu-container").length&&e.classList.add("sub-menu"),!e.classList.contains("mega-menu-title")&&0<e.querySelectorAll(".sub-menu-container").length&&e.querySelectorAll(".sub-menu-trigger").length<1&&((t=document.createElement("button")).classList="sub-menu-trigger fa-solid fa-chevron-right",e.append(t))})},CanvasMenuReset=()=>{const t=SEMICOLON.Core;let r=t.getVars.elBody,s=".mega-menu-content, .sub-menu-container";document.querySelectorAll(".primary-menu-trigger").forEach(e=>e.classList.remove("primary-menu-trigger-active")),t.getVars.elPrimaryMenus.forEach(e=>{r.classList.contains("is-expanded-menu")?(e.querySelector(".menu-container").classList.remove("d-block","d-none"),e.querySelectorAll(s)?.forEach(e=>e.classList.remove("d-none")),document.querySelectorAll(".menu-container:not(.mobile-primary-menu)").forEach(e=>e.style.display=""),t.getVars.elPrimaryMenus.forEach(e=>e.querySelectorAll(".mobile-primary-menu")?.forEach(e=>e.classList.remove("d-block")))):e.querySelector(".menu-container").classList.remove("d-block"),e.querySelectorAll(s)?.forEach(e=>e.classList.remove("d-block")),e.querySelectorAll(".menu-item").forEach(e=>e.classList.remove("current")),e.classList.remove("primary-menu-active");e=r.className.split(" ").filter(e=>!e.startsWith("primary-menu-open"));r.className=e.join(" ").trim()})},CanvasMenuArrows=()=>{const r=e=>{if(!e.querySelector(".sub-menu-indicator")){let t=document.createElement("i");t.classList.add("sub-menu-indicator");var r=e.closest(".primary-menu").getAttribute("data-arrow-class")||"fa-solid fa-caret-down";r&&r.split(" ").forEach(e=>t.classList.add(e)),e.append(t)}};document.querySelectorAll(".top-links-item").forEach(e=>{var t=e.querySelector(":scope > a");e.querySelector(":scope > .top-links-sub-menu, :scope > .top-links-section")&&r(t)}),document.querySelectorAll(".menu-item").forEach(e=>{var t=e.querySelector(":scope > .menu-link > div");!e.classList.contains("mega-menu-title")&&e.querySelector(":scope > .sub-menu-container, :scope > .mega-menu-content")&&r(t)}),document.querySelectorAll(".page-menu-item").forEach(e=>{var t=e.querySelector(":scope > a > div");e.querySelector(":scope > .page-menu-sub-menu")&&r(t)})},CanvasMenuInvert=e=>{const s=SEMICOLON.Core;e=e||document.querySelectorAll(".mega-menu-content, .sub-menu-container, .top-links-section");if(!s.getVars.elBody.classList.contains("is-expanded-menu"))return!1;e.forEach(e=>{e.classList.remove("menu-pos-invert");e.querySelectorAll(":scope > *").forEach(e=>e.style.display="block"),e.style.display="block";var t,r=e.getBoundingClientRect();e.closest(".mega-menu-small")&&(t=s.viewport().width-(r.left+r.width))<0&&(e.style.left=t+"px"),s.getVars.elBody.classList.contains("rtl")&&r.left<0&&e.classList.add("menu-pos-invert"),s.viewport().width-(r.left+r.width)<0&&e.classList.add("menu-pos-invert")}),e.forEach(e=>{e.querySelectorAll(":scope > *").forEach(e=>e.style.display=""),e.style.display=""})},CanvasMenuFunctions=()=>{const s=SEMICOLON.Core;let l=".mega-menu-content, .sub-menu-container",n=".menu-item",o=".sub-menu-trigger",t=s.getVars.elBody.classList;var e=document.querySelectorAll(o);let r=new Array;e.forEach(e=>{e=e.closest(".menu-item").querySelector('.menu-link[href^="#"]');e&&r.push(e)});e=[...e,...r];document.querySelectorAll(o).forEach(e=>e.classList.remove("icon-rotate-90")),t.contains("is-expanded-menu")||(s.getVars.elPrimaryMenus.forEach(e=>e.querySelectorAll(l).forEach(e=>{e.classList.add("d-none"),t.remove("primary-menu-open")})),e.forEach(t=>{t.onclick=e=>{e.preventDefault();let r=t;if(t.classList.contains("sub-menu-trigger")||(r=t.closest(n).querySelector(":scope > "+o)),s.siblings(r.closest(n)).forEach(e=>e.querySelectorAll(l).forEach(e=>e.classList.add("d-none"))),r.closest(".mega-menu-content")){let t=[];s.parents(r,n).forEach(e=>t.push(e.querySelector(":scope > "+l))),[...r.closest(".mega-menu-content").querySelectorAll(l)].filter(e=>!t.includes(e)).forEach(e=>e.classList.add("d-none"))}CanvasMenuTriggerState(r,n,l,o,"d-none")}})),t.contains("is-expanded-menu")&&((t.contains("side-header")||t.contains("overlay-menu"))&&s.getVars.elPrimaryMenus.forEach(e=>{e.classList.add("on-click"),e.querySelectorAll(o).forEach(e=>e.style.zIndex="-1")}),[...s.getVars.elPrimaryMenus].filter(e=>e.matches(".on-click")).forEach(e=>{s.has(e.querySelectorAll(n),o).forEach(e=>{let r=e.querySelector(":scope > .menu-link");r.onclick=e=>{if(e.preventDefault(),s.siblings(r.closest(n)).forEach(e=>e.querySelectorAll(l).forEach(e=>e.classList.remove("d-block"))),r.closest(".mega-menu-content")){let t=[];s.parents(r,n).forEach(e=>t.push(e.querySelector(":scope > "+l))),[...r.closest(".mega-menu-content").querySelectorAll(l)].filter(e=>!t.includes(e)).forEach(e=>e.classList.remove("d-block"))}CanvasMenuTriggerState(r,n,l,o,"d-block")}})})),document.querySelectorAll(".top-links").forEach(e=>{!e.classList.contains("on-click")&&t.contains("device-up-lg")||e.querySelectorAll(".top-links-item").forEach(t=>{0<t.querySelectorAll(".top-links-sub-menu,.top-links-section").length&&(t.querySelector(":scope > a").onclick=e=>{e.preventDefault(),s.siblings(t).forEach(e=>e.querySelectorAll(".top-links-sub-menu, .top-links-section").forEach(e=>e.classList.remove("d-block"))),t.querySelector(":scope > .top-links-sub-menu, :scope > .top-links-section").classList.toggle("d-block"),s.siblings(t).forEach(e=>e.classList.remove("current")),t.classList.toggle("current")})})}),CanvasMenuInvert(document.querySelectorAll(".top-links-section"))},CanvasMenuTriggerState=(e,t,r,s,l)=>{SEMICOLON.Core;e.closest(".menu-container").querySelectorAll(s).forEach(e=>e.classList.remove("icon-rotate-90"));var n=e.closest(t).querySelector(":scope > "+r),o=e.closest(t).querySelectorAll(r);"d-none"==l?n.classList.contains("d-none")?n.classList.remove("d-none"):o.forEach(e=>e.classList.add("d-none")):n.classList.contains("d-block")?o.forEach(e=>e.classList.remove("d-block")):n.classList.add("d-block"),CanvasMenuCurrent(e,t,r,s)},CanvasMenuCurrent=(e,t,r,s)=>{const l=SEMICOLON.Core,n=([...e.closest(".menu-container").querySelectorAll(t)].forEach(e=>e.classList.remove("current")),(e,t,r)=>{l.isHidden(e.closest(t).querySelector(":scope > "+r))?(e.closest(t).classList.remove("current"),e.closest(t).querySelector(":scope > "+s)?.classList.remove("icon-rotate-90")):(e.closest(t).classList.add("current"),e.closest(t).querySelector(":scope > "+s)?.classList.add("icon-rotate-90"))});n(e,t,r),l.parents(e,t).forEach(e=>n(e,t,r))},CanvasMenuTrigger=()=>{const s=SEMICOLON.Core;let l=s.getVars.elBody.classList;document.querySelectorAll(".primary-menu-trigger").forEach(r=>{r.onclick=e=>{var t=r.getAttribute("data-target")||"*";s.filtered(s.getVars.elPrimaryMenus,t).length<1||(l.contains("is-expanded-menu")||s.getVars.elPrimaryMenus.forEach(e=>{0<e.querySelectorAll(".mobile-primary-menu").length?e.matches(t)&&e.querySelectorAll(".mobile-primary-menu").forEach(e=>e.classList.toggle("d-block")):e.matches(t)&&e.querySelectorAll(".menu-container").forEach(e=>e.classList.toggle("d-block"))}),r.classList.toggle("primary-menu-trigger-active"),s.getVars.elPrimaryMenus.forEach(e=>e.matches(t)&&e.classList.toggle("primary-menu-active")),l.toggle("primary-menu-open"),"*"!=t?l.toggle("primary-menu-open-"+t.replace(/[^a-zA-Z0-9-]/g,"")):l.toggle("primary-menu-open-all"),e.preventDefault())}})},CanvasMenuFullWidth=()=>{var e=SEMICOLON.Core;if(!e.getVars.elBody.classList.contains("is-expanded-menu"))return document.querySelectorAll(".mega-menu-content, .top-search-form").forEach(e=>e.style.width=""),!0;let r=document.querySelector(".mega-menu:not(.mega-menu-full):not(.mega-menu-small) .mega-menu-content")?.closest(".header-row").offsetWidth;if(0<e.getVars.elHeader.querySelectorAll(".container-fullwidth").length&&document.querySelectorAll(".mega-menu:not(.mega-menu-full):not(.mega-menu-small) .mega-menu-content").forEach(e=>e.style.width=r+"px"),document.querySelectorAll(".mega-menu:not(.mega-menu-full):not(.mega-menu-small) .mega-menu-content, .top-search-form").forEach(e=>e.style.width=r+"px"),e.getVars.elHeader.classList.contains("full-header")&&document.querySelectorAll(".mega-menu:not(.mega-menu-full):not(.mega-menu-small) .mega-menu-content").forEach(e=>e.style.width=r+"px"),e.getVars.elHeader.classList.contains("floating-header")){let t=getComputedStyle(document.querySelector("#header")).getPropertyValue("--cnvs-header-floating-padding");document.querySelectorAll(".mega-menu:not(.mega-menu-full):not(.mega-menu-small) .mega-menu-content").forEach(e=>e.style.width=r+2*Number(t.split("px")[0])+"px")}};